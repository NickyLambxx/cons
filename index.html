<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#12141a" />

  <title>PrepMate ‚Äî –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏—è</title>
  <meta name="description"
    content="–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏—è –†–§ –æ—Ç PrepMate: —É–º–Ω—ã–π –ø–æ–∏—Å–∫, –∞—É–¥–∏–æ-—Ä–µ–∂–∏–º, –ø–æ—è—Å–Ω–µ–Ω–∏—è —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏ —Ç—Ä–µ–Ω–∞–∂–µ—Ä—ã –ï–ì–≠." />

  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="style.css" />

  <link rel="icon" href="/favicon.ico" sizes="any">
  <link rel="icon" href="/logo.png" type="image/png">
  <link rel="apple-touch-icon" href="/logo.png">
</head>

<body>
  <header class="site-header" role="banner">
    <div class="brand">
      <h1>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏—è</h1>
    </div>

    <div class="logo-container">
      <img src="logo.png" alt="PrepMate" class="logo" />
    </div>

    <div class="header-tools">
      <button id="dictionaryBtn" class="btn" aria-label="–°–ª–æ–≤–∞—Ä—å" title="–°–ª–æ–≤–∞—Ä—å —Ç–µ—Ä–º–∏–Ω–æ–≤">üìñ</button>
      <button id="game23Btn" class="btn" aria-label="–ó–∞–¥–∞–Ω–∏–µ 23" title="–ï–ì–≠ –ó–∞–¥–∞–Ω–∏–µ ‚Ññ23">üìã</button>
      <button id="gameBtn" class="btn" aria-label="–¢—Ä–µ–Ω–∞–∂–µ—Ä –ø–æ–ª–Ω–æ–º–æ—á–∏–π" title="–ò–≥—Ä–∞: –ö—Ç–æ –∑–∞ —á—Ç–æ –æ—Ç–≤–µ—á–∞–µ—Ç?">üéÆ</button>
      <button id="fontBtn" class="btn" aria-label="–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —à—Ä–∏—Ñ—Ç–∞" title="–†–∞–∑–º–µ—Ä —Ç–µ–∫—Å—Ç–∞">Aa</button>
      <button id="printBtn" class="btn" aria-label="–†–∞—Å–ø–µ—á–∞—Ç–∞—Ç—å" title="–í–µ—Ä—Å–∏—è –¥–ª—è –ø–µ—á–∞—Ç–∏">üñ®Ô∏è</button>
      <button id="markersBtn" class="btn" aria-pressed="false" aria-label="–ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤"
        title="–ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–ª–æ–≤-–º–∞—Ä–∫–µ—Ä–æ–≤">üñçÔ∏è</button>
      <button id="themeToggle" class="btn" aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É" title="–°–º–µ–Ω–∏—Ç—å —Ç–µ–º—É">üåì</button>
      <button id="teacherModeBtn" class="btn" aria-pressed="false" aria-label="–£—á–µ–±–Ω—ã–π —Ä–µ–∂–∏–º"
        title="–£—á–∏—Ç–µ–ª—å—Å–∫–∏–π —Ä–µ–∂–∏–º">üéì</button>
    </div>

    <div id="scrollProgress" class="progress">
      <div class="bar"></div>
    </div>
  </header>

  <main class="layout" role="main">
    <aside id="sidebarPanel" class="sidebar" aria-label="–û–≥–ª–∞–≤–ª–µ–Ω–∏–µ">
      <div id="egeTimer" class="ege-timer">–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–∞–π–º–µ—Ä–∞...</div>

      <div class="search-container">
        <div class="search-box">
          <input id="searchInput" type="search" placeholder="–ü–æ–∏—Å–∫ –ø–æ —Å—Ç–∞—Ç—å—è–º‚Ä¶" aria-label="–ü–æ–∏—Å–∫" autocomplete="off" />
          <button id="searchTriggerBtn" class="btn-search" title="–ù–∞–π—Ç–∏">üîç</button>
        </div>
        <div id="searchHistory" class="search-history" hidden></div>
      </div>

      <button id="favFilterBtn" class="btn btn-block" aria-pressed="false">
        ‚≠ê –¢–æ–ª—å–∫–æ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ <span id="favCount" class="badge">0</span>
      </button>

      <nav id="toc" class="toc" aria-label="–ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –≥–ª–∞–≤–∞–º"></nav>

      <a href="https://t.me/Nicky_Lambx" target="_blank" rel="noopener"
        class="btn btn-block btn-secondary feedback-btn">
        üêû –ù–∞—à–ª–∏ –æ—à–∏–±–∫—É?
      </a>

      <section class="sources">
        <h2>–ò—Å—Ç–æ—á–Ω–∏–∫–∏</h2>
        <ul>
          <li><a href="https://pravo.gov.ru/constitution/" target="_blank" rel="noopener">–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç‚Äë–ø–æ—Ä—Ç–∞–ª
              –ø—Ä–∞–≤–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏</a></li>
        </ul>
      </section>
    </aside>

    <section id="content" class="content" tabindex="-1" aria-live="polite">
      <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –≥–ª–∞–≤‚Ä¶</div>
    </section>
  </main>

  <nav class="mobile-nav">
    <button class="nav-item" id="navHome">üè†<br>–ì–ª–∞–≤–Ω–∞—è</button>
    <button class="nav-item" id="navSearch">üîç<br>–ü–æ–∏—Å–∫</button>
    <button class="nav-item" id="navFav">‚≠ê<br>–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</button>
    <button class="nav-item" id="navMenu">‚ò∞<br>–ú–µ–Ω—é</button>
  </nav>

  <button id="backToTop" class="btn-up" aria-label="–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –Ω–∞—á–∞–ª–æ">‚¨Ü</button>
  <button id="btn-return" class="btn-return" aria-label="–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥">‚Ü© –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥</button>

  <div id="toast">–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞!</div>
  <div id="tooltip" role="tooltip"></div>

  <dialog id="mapDialog" class="large-dialog">
    <header class="dialog-header">
      <h3>–§–µ–¥–µ—Ä–∞—Ç–∏–≤–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (–°—Ç. 65)</h3>
      <button id="closeMap" class="btn btn-secondary">–ó–∞–∫—Ä—ã—Ç—å</button>
    </header>
    <div class="map-wrapper">
      <div class="map-container">
        <h4 class="map-instruction">–ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã–π –æ–∫—Ä—É–≥, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Å–æ—Å—Ç–∞–≤</h4>

        <svg id="russiaMap" viewBox="0 0 1000 600" xmlns="http://www.w3.org/2000/svg">
          <path class="region" id="reg-fe" d="M650,50 L950,50 L980,150 L900,450 L750,500 L600,350 L650,200 Z"
            data-name="–î–∞–ª—å–Ω–µ–≤–æ—Å—Ç–æ—á–Ω—ã–π –§–û" />
          <path class="region" id="reg-sib" d="M450,100 L650,50 L650,200 L600,350 L750,500 L500,550 L400,450 Z"
            data-name="–°–∏–±–∏—Ä—Å–∫–∏–π –§–û" />
          <path class="region" id="reg-ural" d="M350,100 L450,100 L400,450 L300,400 Z" data-name="–£—Ä–∞–ª—å—Å–∫–∏–π –§–û" />
          <path class="region" id="reg-nw" d="M150,50 L350,100 L300,250 L100,200 Z" data-name="–°–µ–≤–µ—Ä–æ-–ó–∞–ø–∞–¥–Ω—ã–π –§–û" />
          <path class="region" id="reg-cen" d="M100,200 L300,250 L280,350 L100,300 Z" data-name="–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –§–û" />
          <path class="region" id="reg-vol" d="M280,350 L300,250 L300,400 L350,450 L250,450 Z"
            data-name="–ü—Ä–∏–≤–æ–ª–∂—Å–∫–∏–π –§–û" />
          <path class="region" id="reg-south" d="M50,300 L100,300 L100,450 L50,400 Z" data-name="–Æ–∂–Ω—ã–π –§–û" />
          <path class="region" id="reg-kav" d="M50,400 L100,450 L80,480 L40,450 Z" data-name="–°–µ–≤–µ—Ä–æ-–ö–∞–≤–∫–∞–∑—Å–∫–∏–π –§–û" />
        </svg>
      </div>
      <div id="mapInfoPanel" class="map-info-panel">
        <h4 id="mapRegionTitle">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–≥–∏–æ–Ω –Ω–∞ –∫–∞—Ä—Ç–µ</h4>
        <ul id="mapRegionList"></ul>
      </div>
    </div>
  </dialog>

  <dialog id="game23Dialog" class="large-dialog">
    <div class="game-header">
      <h3>–ó–∞–¥–∞–Ω–∏–µ ‚Ññ23 –ï–ì–≠ (–ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏—è)</h3>
      <button id="closeGame23" class="btn-ghost">‚úï</button>
    </div>
    <div class="game23-body">
      <p class="game23-task">–ù–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–ª–æ–∂–µ–Ω–∏–π –ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–∏ –†–§ —Å—Ñ–æ—Ä–º—É–ª–∏—Ä—É–π—Ç–µ –∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫—É:</p>
      <h2 id="task23Question" class="task23-question">...</h2>
      <p class="game23-hint">–í—ã–±–µ—Ä–∏—Ç–µ 3 –≤–µ—Ä–Ω—ã—Ö –ø–æ–ª–æ–∂–µ–Ω–∏—è –∏–∑ —Å–ø–∏—Å–∫–∞:</p>

      <div id="task23Options" class="task23-options"></div>

      <div class="game23-controls">
        <button id="checkTask23Btn" class="btn btn-primary btn-lg" disabled>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç</button>
        <button id="nextTask23Btn" class="btn btn-secondary" style="display:none">–°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å</button>
      </div>
      <div id="task23Feedback" class="game-feedback"></div>
    </div>
  </dialog>

  <dialog id="dictionaryDialog" class="large-dialog">
    <header class="dialog-header">
      <h3>–°–ª–æ–≤–∞—Ä—å —Ç–µ—Ä–º–∏–Ω–æ–≤</h3>
      <button id="closeDictionary" class="btn btn-secondary">–ó–∞–∫—Ä—ã—Ç—å</button>
    </header>
    <div class="dictionary-content" id="dictionaryList"></div>
  </dialog>

  <dialog id="fontSettingsDialog" class="mini-dialog">
    <form method="dialog">
      <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ–∫—Å—Ç–∞</h3>
      <div class="setting-group">
        <label>–†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞:</label>
        <div class="range-controls">
          <button type="button" id="fontDec">-</button>
          <span id="fontSizeVal">16px</span>
          <button type="button" id="fontInc">+</button>
        </div>
      </div>
      <div class="setting-group">
        <label>–ú–µ–∂—Å—Ç—Ä–æ—á–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª:</label>
        <div class="range-controls">
          <button type="button" id="lhDec">-</button>
          <span id="lhVal">1.6</span>
          <button type="button" id="lhInc">+</button>
        </div>
      </div>
      <button class="btn btn-block btn-secondary" style="margin-top:15px">–ó–∞–∫—Ä—ã—Ç—å</button>
    </form>
  </dialog>

  <dialog id="gameDialog" class="game-dialog">
    <div class="game-header">
      <h3>–¢—Ä–µ–Ω–∞–∂–µ—Ä –ø–æ–ª–Ω–æ–º–æ—á–∏–π (–ï–ì–≠ ‚Ññ13)</h3>
      <button id="closeGame" class="btn-ghost">‚úï</button>
    </div>

    <div id="gameStartScreen">
      <p>–í–∞–º –±—É–¥–µ—Ç –¥–∞–Ω–æ –ø–æ–ª–Ω–æ–º–æ—á–∏–µ. –í–∞—à–∞ –∑–∞–¥–∞—á–∞ ‚Äî –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫—Ç–æ –µ–≥–æ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç.</p>
      <div class="stats-preview">–†–µ–∫–æ—Ä–¥: <span id="highScore">0</span></div>
      <button id="startGameBtn" class="btn btn-primary btn-lg">–ù–∞—á–∞—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É</button>
    </div>

    <div id="gamePlayScreen" hidden>
      <div class="game-score">–°—á–µ—Ç: <span id="currentScore">0</span></div>
      <div class="question-card">
        <div class="question-text" id="questionText">–í–æ–ø—Ä–æ—Å...</div>
      </div>
      <div class="answers-grid">
        <button class="ans-btn" data-target="president">–ü—Ä–µ–∑–∏–¥–µ–Ω—Ç –†–§</button>
        <button class="ans-btn" data-target="sf">–°–æ–≤–µ—Ç –§–µ–¥–µ—Ä–∞—Ü–∏–∏</button>
        <button class="ans-btn" data-target="gd">–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–∞—è –î—É–º–∞</button>
        <button class="ans-btn" data-target="gov">–ü—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–æ –†–§</button>
      </div>
      <div id="gameFeedback" class="game-feedback"></div>
    </div>
  </dialog>

  <dialog id="articleDialog" aria-label="–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ —Å—Ç–∞—Ç—å–∏">
    <form method="dialog">
      <header class="dialog-header">
        <h3 id="dialogTitle"></h3>
        <menu>
          <button id="closeDialog" class="btn btn-secondary">–ó–∞–∫—Ä—ã—Ç—å</button>
        </menu>
      </header>
      <article id="dialogBody"></article>
      <footer class="dialog-footer">
        <label class="toggle">
          <input type="checkbox" id="toggleExplanations" />
          <span>–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ—è—Å–Ω–µ–Ω–∏—è (—É—á–µ–±–Ω—ã–π —Ä–µ–∂–∏–º)</span>
        </label>
      </footer>
    </form>
  </dialog>

  <template id="articleCardTmpl">
    <article class="card" data-article-id="">
      <header>
        <div class="header-content">
          <div class="breadcrumbs"></div>
          <h3 class="title"></h3>
        </div>
        <div class="meta">
          <button class="btn-audio btn-ghost" title="–ü—Ä–æ—Å–ª—É—à–∞—Ç—å —Å—Ç–∞—Ç—å—é">üîä</button>
          <button class="btn-fav btn-ghost" title="–î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ">‚òÜ</button>
          <a class="deeplink btn btn-ghost" title="–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ —Å—Ç–∞—Ç—å—é">üîó</a>
        </div>
      </header>
      <div class="body"></div>
      <details class="explain">
        <summary>–ü–æ—è—Å–Ω–µ–Ω–∏–µ</summary>
        <div class="explain-body"></div>
      </details>
    </article>
  </template>

  <script src="app.js" defer></script>
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('./sw.js').catch(err => console.log('–û—à–∏–±–∫–∞ PWA:', err));
      });
    }
  </script>
</body>

</html>